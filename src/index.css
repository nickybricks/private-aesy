@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Apple 2025 Design System - Light Mode */
    --background: 0 0% 100%;
    --foreground: 220 16% 13%;

    --card: 0 0% 100%;
    --card-foreground: 220 16% 13%;

    --popover: 0 0% 100%;
    --popover-foreground: 220 16% 13%;

    /* Accent Blue - Apple 2025 Primary */
    --primary: 213 100% 52%;
    --primary-foreground: 0 0% 100%;

    --secondary: 220 14% 96%;
    --secondary-foreground: 220 16% 13%;

    --muted: 220 14% 96%;
    --muted-foreground: 220 9% 46%;

    --accent: 220 14% 96%;
    --accent-foreground: 220 16% 13%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    /* Borders & Input */
    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 213 100% 52%;

    /* Apple-style radius */
    --radius: 1rem;

    /* Stock Price Colors */
    --stock-green: 142 76% 48%;
    --stock-red: 6 100% 60%;
    --stock-yellow: 48 100% 50%;

    /* Status Colors (same as stock colors for consistency) */
    --status-green: 142 76% 48%;
    --status-red: 6 100% 60%;
    --status-yellow: 48 100% 50%;

    /* Glass Effects */
    --glass-background: 0 0% 100% / 0.1;
    --glass-border: 0 0% 0% / 0.1;
    --glass-ring: 0 0% 100% / 0.4;
  }

  .dark {
    /* Apple 2025 Design System - Dark Mode */
    --background: 220 16% 13%;
    --foreground: 0 0% 100%;

    --card: 220 14% 16%;
    --card-foreground: 0 0% 100%;

    --popover: 220 14% 16%;
    --popover-foreground: 0 0% 100%;

    --primary: 213 100% 52%;
    --primary-foreground: 0 0% 100%;

    --secondary: 220 14% 20%;
    --secondary-foreground: 0 0% 100%;

    --muted: 220 14% 20%;
    --muted-foreground: 220 9% 60%;

    --accent: 220 14% 20%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border: 220 13% 25%;
    --input: 220 13% 25%;
    --ring: 213 100% 52%;

    /* Stock Price Colors - Dark Mode */
    --stock-green: 142 76% 48%;
    --stock-red: 6 100% 60%;
    --stock-yellow: 48 100% 50%;

    /* Status Colors - Dark Mode */
    --status-green: 142 76% 48%;
    --status-red: 6 100% 60%;
    --status-yellow: 48 100% 50%;

    /* Glass Effects - Dark */
    --glass-background: 0 0% 0% / 0.25;
    --glass-border: 0 0% 0% / 0.15;
    --glass-ring: 0 0% 100% / 0.2;
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", system-ui, Inter, sans-serif;
    font-feature-settings:
      "rlig" 1,
      "calt" 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    width: 100%;
    margin: 0;
    padding: 0;
  }
}

@layer components {
  /* Apple 2025 Liquid Glass Effect */
  .glass {
    @apply backdrop-blur-2xl bg-white/10 dark:bg-black/25;
    border: 1px solid hsl(var(--glass-border));
    box-shadow: inset 0 0 0 1px hsl(var(--glass-ring));
  }

  .glass-header {
    @apply backdrop-blur-2xl bg-white/10 dark:bg-black/25;
    border-bottom: 1px solid hsl(var(--glass-border));
    box-shadow: inset 0 0 0 1px hsl(var(--glass-ring));
  }

  .glass-sidebar {
    @apply backdrop-blur-2xl bg-white/10 dark:bg-black/25;
    border-right: 1px solid hsl(var(--glass-border));
    box-shadow: inset 0 0 0 1px hsl(var(--glass-ring));
  }

  /* Navigation Pill */
  .nav-pill {
    @apply bg-white/15 dark:bg-white/10;
    box-shadow: inset 0 0 0 1px hsl(var(--glass-ring));
  }

  .nav-pill-hover {
    @apply bg-white/20 dark:bg-white/15;
  }

  /* Legacy classes for backwards compatibility */
  .buffett-card {
    @apply bg-card rounded-2xl shadow-sm p-6 border border-border;
  }

  .status-red {
    @apply text-buffett-red font-medium;
  }

  .status-yellow {
    @apply text-buffett-yellow font-medium;
  }

  .status-green {
    @apply text-buffett-green font-medium;
  }

  .metric-card {
    @apply p-4 rounded-2xl border border-border hover:shadow-sm transition-shadow;
  }

  /* Wave animations for loading */
  .animate-wave {
    animation: wave 3s ease-in-out infinite;
  }

  .animate-wave-reverse {
    animation: wave-reverse 3.5s ease-in-out infinite;
  }
}

@keyframes wave {
  0%,
  100% {
    transform: translateY(0) scaleY(1);
  }
  25% {
    transform: translateY(-8px) scaleY(1.1);
  }
  50% {
    transform: translateY(4px) scaleY(0.9);
  }
  75% {
    transform: translateY(-4px) scaleY(1.05);
  }
}

@keyframes wave-reverse {
  0%,
  100% {
    transform: translateY(0) scaleY(1);
  }
  25% {
    transform: translateY(6px) scaleY(0.9);
  }
  50% {
    transform: translateY(-10px) scaleY(1.2);
  }
  75% {
    transform: translateY(2px) scaleY(0.95);
  }
}

/* Responsive styles for mobile */
@layer utilities {
  /* Full-width buttons on mobile (<480px) */
  @media (max-width: 479px) {
    .btn-mobile-full,
    button:not(.btn-no-mobile-full, #deep-research-mobile) {
      width: 100% !important;
    }

    /* Quick access buttons responsiveness */
    .quick-access-buttons {
      @apply flex-col;
    }

    .quick-access-buttons button {
      @apply w-full;
    }
  }

  .quick-access-buttons {
    @apply flex flex-wrap gap-2;
  }

  /* Hide scrollbar for horizontal tabs */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}
